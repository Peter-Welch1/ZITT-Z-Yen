{% extends "layout.html" %}

{% block title %}
    Upload
{% endblock %}

{% block main %}
    <h4>Upload Your Own Question or Question Set</h4>
    <br>
    <p style="color: red;"><strong>Before uploading, play a few rounds to make sure your questions are in keeping with the style and spirit of the game.</strong></p>
    <br>
    <div class="container">
        <div class="row">
          <div class="col-sm">
            <h5>Upload a Single Question</h5>
            <form action="/upload" method='post'>
            <div class="form-group">
              <input type="text" class="form-control" name="question" id='val1' placeholder="Question">
            </div>
            <div class="form-group">
              <input type="text" class="form-control" name="answer" id='val2' placeholder="Answer">
            </div>
            <button type="submit" class="btn btn-warning" id='contact' disabled >Upload</button>
            </form>
        </div>

          <div class="col-sm">
            <h5>Upload a Question Set</h5>
            <p>Please follow this format when uploading</p>
            <p style="color: red;">File must be in .CSV format with 2 columns: question, answer. Headers must be exactaly as stated, else you will see errors.</p> 

            <form action="/question_set" method="post" enctype="multipart/form-data">
                <input type="file" class='btn btn-warning' name="upload_file" id="fileToUpload">
                <input type="submit" class='btn btn-warning' value="Upload File" name="submit">
            </form>
          </div>
        </div>
    </div>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/
    jquery.min.js"></script>
    <script type="text/javascript">
     
        $("#val1").keyup(function(event) {
            validateInputs();
        });
     
        $("#val2").keyup(function(event) {
            validateInputs();
        });
     
        function validateInputs(){
            var disableButton = false;
     
            var val1 = $("#val1").val();
            var val2 = $("#val2").val();
     
            if(val1.length == 0 || val2.length == 0)
                disableButton = true;
     
            $('#contact').attr('disabled', disableButton);
        }
    </script> 
{% endblock %}


